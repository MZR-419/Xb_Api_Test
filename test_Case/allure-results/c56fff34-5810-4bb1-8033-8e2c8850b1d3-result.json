{"name": "test_gettoken[data2]", "status": "broken", "statusDetails": {"message": "UnboundLocalError: local variable 'datas' referenced before assignment", "trace": "data = {'是否开启': '是', '期望结果': '代发金额不能为空', '状态码': 1003, '用例名称': '单笔发放', ...}\nget_token = 'eyJhbGciOiJIUzUxMiJ9.eyJhdXRob3JpdGllcyI6WyJiYXNpYyJdLCJhdHRyaWJ1dGVzIjp7Im5hbWUiOiIwNzAy5rWL6K-VIiwiYmF0Y2hUeXBlIjoi...jEzODgiLCJleHAiOjE2MjUxNDM2MDB9.Z6f8nKl2DsUupJhIYlG_j8AHHVKcVTcUHqVimNzmXRL_TtHjU9fRu26KcPwHt3-LjcT8dYo4aACao971JC7eGg'\n\n    @pytest.mark.parametrize('data',ExcelMethod(file,excel_sheet).get_case())\n    def test_gettoken(data,get_token):\n        orderno = random_phone()\n        #配置文件的IP与Excel文档请求路径进行拼接\n        urls = test_url+data[ExcelVarles.case_url]\n        #Excel读取出来的请求参数转为字典\n        data1 = str(data[ExcelVarles.case_data])\n        if '${orderNo}' in data1:\n            new_data = json.loads(data1.replace('${orderNo}',orderno))\n            print(new_data)\n        #前置加密处理\n            datas = encryptJson.EncryptJson.encryptJson(passkey,new_data)\n        # print(type(datas))\n    \n        if data[ExcelVarles.case_method] == 'get':\n            r = Method.ApiRequest().run_method(\n                method='get',\n                url=data[ExcelVarles.case_url],\n                data=datas,\n                # headers=headers\n            )\n    \n        elif data[ExcelVarles.case_method] == 'post':\n            header = {\n                'Authorization': 'Bearer '+ get_token}\n            d = ApiRequest()\n            r = d.run_method(\n                method='post',\n                url=urls,\n>               data=datas,\n                header=header\n            )\nE           UnboundLocalError: local variable 'datas' referenced before assignment\n\ntest_aa.py:44: UnboundLocalError"}, "parameters": [{"name": "data", "value": "{'是否开启': '是', '用例名称': '单笔发放', '请求方式': 'post', '请求地址': '/trans/upload', '请求数据': '{\"datas\":[{\"acctName\":\"莫振饶\",\"acctNo\":\"6214832072174308\",\"amount\":\"\",\"cardNo\":\"440183199504196756\",\"mobile\":\"13480213228\",\"orderNo\":998989898,\"papersType\":\"ID_CARD\",\"pmtType\":\"PAYMENT\",\"remark\":\"测试Test\",\"riskControl\":\"\"}],\"cmd\":\"\",\"notifyUrls\":\"http://localhost:8483/notify\",\"level\":\"\"}', '状态码': 1003, '期望结果': '代发金额不能为空'}"}], "start": 1624884401034, "stop": 1624884401034, "uuid": "7278e2e4-6ea3-4415-8bdf-2da6ffe07186", "historyId": "f1095c93fb0ee3b0d0380228bae8c7f3", "testCaseId": "1a5fd27be30131b021acb59bf8d00892", "fullName": "test_Case.test_aa#test_gettoken", "labels": [{"name": "parentSuite", "value": "test_Case"}, {"name": "suite", "value": "test_aa"}, {"name": "host", "value": "mozhenraodeMacBook-Air.local"}, {"name": "thread", "value": "44197-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_Case.test_aa"}]}